!function(t){t.jStyling=function(e){t.jStyling.main.init(e)},t.jStyling.createSelect=function(e,i){t.jStyling.main.createSelect(e,i)},t.jStyling.updateSelect=function(e){t.jStyling.main.updateSelect(e)},t.jStyling.destroySelect=function(e){t.jStyling.main.destroySelect(e)},t.jStyling.createCheckbox=function(e,i){t.jStyling.main.createCheckbox(e,i)},t.jStyling.updateCheckbox=function(e){t.jStyling.main.updateCheckbox(e)},t.jStyling.destroyCheckbox=function(e){t.jStyling.main.destroyCheckbox(e)},t.jStyling.createRadio=function(e,i){t.jStyling.main.createRadio(e,i)},t.jStyling.updateRadio=function(e){t.jStyling.main.updateRadio(e)},t.jStyling.destroyRadio=function(e){t.jStyling.main.destroyRadio(e)},t.jStyling.createFileInput=function(e,i){t.jStyling.main.createFileInput(e,i)},t.jStyling.destroyFileInput=function(e){t.jStyling.main.destroyFileInput(e)},t.fn.jStyling=function(e){return t.jStyling(e)},t.jStyling.settings={selectClass:{w:"jstyling-select",s:"jstyling-select-s",l:"jstyling-select-l",t:"jstyling-select-t"},checkboxClass:"jstyling-checkbox",radioClass:"jstyling-radio",fileClass:{w:"jstyling-file",f:"jstyling-file-f",b:"jstyling-file-b"},fileButtonText:"Browse"},t.jStyling.customOptions={},t.jStyling.main={init:function(e){t.extend(t.jStyling.settings,e||{})},checkType:function(e,i){return!!t(e).is(i)},createSelect:function(e,i){return t.jStyling.customOptions=i||{},e.each((function(){if(!t.jStyling.main.checkType(this,"select"))return!1;if(t(this).parent().is("."+t.jStyling.settings.selectClass.w))return!1;var e=this,i=t("<div>").addClass(t.jStyling.settings.selectClass.w);t(e).attr("disabled")&&i.addClass("disabled"),t.jStyling.customOptions.extraClass&&t(i).addClass(t.jStyling.customOptions.extraClass);for(var s=t("<div>").addClass(t.jStyling.settings.selectClass.s),n=t("<div>").addClass(t.jStyling.settings.selectClass.t),l=t(e).find("option"),a='<div class="'+t.jStyling.settings.selectClass.l+'">',c=0;c<l.length;c++){a=a+'<div class="'+(t(l[c]).attr("disabled")?"item-"+t(l[c]).val()+" disabled":t(l[c]).prop("selected")?"item-"+t(l[c]).val()+" selected":"item-"+t(l[c]).val())+'"><span>'+t(l[c]).html()+"</span></div>"}a+="</div>",n.html(t(e).find("option:selected").html()),i.append(a).append(s),s.append(n),t(e).before(i).hide(),t(i).append(e),t(i).find("."+t.jStyling.settings.selectClass.l+" div").bind("click",(function(){if(!t(this).is(".disabled")){var s=t(this).attr("class").replace("item-","").replace(" disabled","").replace(" selected",""),l=t(e).find('option[value="'+s+'"]');t(e).get(0).selectedIndex=parseInt(t(l).index()),t(e).trigger("change"),n.html(t(l).html()),t(i).find(".selected").removeClass("selected"),t(this).addClass("selected")}})),i.bind("click",(function(){if(!t(this).find("select").attr("disabled")){var e=t(this).is(" .active");0==e&&t("."+t.jStyling.settings.selectClass.l+":visible").parent().removeClass("active"),t(this).toggleClass("active"),0==e&&t(document).unbind("click.closeSelect").bind("click.closeSelect",(function(e){var i=e.target,s=t("."+t.jStyling.settings.selectClass.l+":visible").parent().find("*").addBack();t.inArray(i,s)<0&&(t("."+t.jStyling.settings.selectClass.w).removeClass("active"),t(document).unbind("click.closeSelect"))}))}}))}))},updateSelect:function(e){return e.each((function(){if(!t.jStyling.main.checkType(this,"select"))return!1;if(t(this).parent().is("."+t.jStyling.settings.selectClass.w)){var e=this;t(e).attr("disabled")?t(e).parent().addClass("disabled"):t(e).parent().removeClass("disabled");for(var i=t(e).parent().find("."+t.jStyling.settings.selectClass.s),s=t(i).find("."+t.jStyling.settings.selectClass.t),n=t(e).parent().find("."+t.jStyling.settings.selectClass.l),l=t(e).find("option"),a="",c=0;c<l.length;c++){a=a+'<div class="'+(t(l[c]).attr("disabled")?"item-"+t(l[c]).val()+" disabled":t(l[c]).prop("selected")?"item-"+t(l[c]).val()+" selected":"item-"+t(l[c]).val())+'"><span>'+t(l[c]).html()+"</span></div>"}t(n).html(a),t(n).find(" div").unbind("click").bind("click",(function(){if(!t(this).is(".disabled")){var i=t(this).attr("class").replace("item-","").replace(" disabled",""),l=t(e).find('option[value="'+i+'"]');t(e).get(0).selectedIndex=parseInt(t(l).index()),t(e).trigger("change"),t(s).html(l.html()),t(n).find(".selected").removeClass("selected"),t(this).addClass("selected")}})),t(s).html(t(e).find("option:selected").html())}}))},destroySelect:function(e){return e.each((function(){if(!t.jStyling.main.checkType(this,"select"))return!1;if(t(this).parent().is("."+t.jStyling.settings.selectClass.w)){var e=this,i=t(e).parent();t(document).unbind("click.closeSelect"),t(i).before(t(e)),t(i).remove(),t(e).show()}}))},createCheckbox:function(e,i){return t.jStyling.customOptions=i||{},e.each((function(){if(!t.jStyling.main.checkType(this,"input[type=checkbox]"))return!1;if(t(this).parent().is("."+t.jStyling.settings.checkboxClass))return!1;var e=this,i=t(e).is(":checked")?" active":"",s=t(e).attr("disabled")?" disabled":"",n=t("<div>").addClass(t.jStyling.settings.checkboxClass+i+s);t.jStyling.customOptions.extraClass&&t(n).addClass(t.jStyling.customOptions.extraClass),t(e).before(n),t(n).append(e),t(e).bind("click.checkboxClick",(function(i){t(e).parent().toggleClass("active")})),t(n).bind("click",(function(i){0!=t(this).is(".disabled")||t(i.target).is("input[type=checkbox]")||t(e).trigger("click")}))}))},updateCheckbox:function(e){return e.each((function(){if(!t.jStyling.main.checkType(this,"input[type=checkbox]"))return!1;if(t(this).parent().is("."+t.jStyling.settings.checkboxClass)){var e=this,i=t(e).is(" :checked")?" active":"",s=t(e).attr("disabled")?" disabled":"";t(e).parent().removeClass("active disabled").addClass(i+s)}}))},destroyCheckbox:function(e){return e.each((function(){if(!t.jStyling.main.checkType(this,"input[type=checkbox]"))return!1;if(t(this).parent().is("."+t.jStyling.settings.checkboxClass)){var e=this,i=t(e).parent();t(e).unbind("click.checkboxClick"),t(i).before(t(e)),t(i).remove()}}))},createRadio:function(e,i){return t.jStyling.customOptions=i||{},e.each((function(){if(!t.jStyling.main.checkType(this,"input[type=radio]"))return!1;if(t(this).parent().is("."+t.jStyling.settings.radioClass))return!1;var e=this,i=t(e).is(":checked")?" active":"",s=t(e).attr("disabled")?" disabled":"",n=t("<div>").addClass(t.jStyling.settings.radioClass+i+s);t.jStyling.customOptions.extraClass&&t(n).addClass(t.jStyling.customOptions.extraClass),t(e).before(n),t(n).append(e),t(e).bind("click.radioClick",(function(i){t("input[type=radio][name="+t(e).attr("name")+"]").parent().removeClass("active"),t(e).parent().addClass("active")})),t(n).bind("click",(function(i){0!=t(this).is(".disabled")||t(i.target).is("input[type=radio]")||t(e).trigger("click")}))}))},updateRadio:function(e){return e.each((function(){if(!t.jStyling.main.checkType(this,"input[type=radio]"))return!1;if(t(this).parent().is("."+t.jStyling.settings.radioClass)){var e=this,i=t(e).is(":checked")?" active":"",s=t(e).attr("disabled")?" disabled":"";t(e).parent().removeClass("active disabled").addClass(i+s)}}))},destroyRadio:function(e){return e.each((function(){if(!t.jStyling.main.checkType(this,"input[type=radio]"))return!1;if(t(this).parent().is("."+t.jStyling.settings.radioClass)){var e=this,i=t(e).parent();t(e).unbind("click.radioClick"),t(i).before(t(e)),t(i).remove()}}))},createFileInput:function(e,i){return t.jStyling.customOptions=i||{},e.each((function(){if(!t.jStyling.main.checkType(this,"input[type=file]"))return!1;if(!t(this).parent().parent().is("."+t.jStyling.settings.fileClass.w)){var e=this,i=t("<div>").addClass(t.jStyling.settings.fileClass.w),s=t("<div>").addClass(t.jStyling.settings.fileClass.f),n=t("<div>").addClass(t.jStyling.settings.fileClass.b);t.jStyling.customOptions.extraClass&&t(i).addClass(t.jStyling.customOptions.extraClass),t.jStyling.customOptions.fileButtonText?t(n).html(t.jStyling.customOptions.fileButtonText):t(n).html(t.jStyling.settings.fileButtonText),""!=t(e).val()&&t(s).html(t(e).val()),t(i).append(s).append(n),t(e).before(i),t(n).append(t(e));var l=t(n).outerHeight();t(e).css({height:l+"px","font-size":l+"px"}).bind("change",(function(){t(this).parent().prev().html(t(e).val())}))}}))},destroyFileInput:function(e){return e.each((function(){if(!t.jStyling.main.checkType(this,"input[type=file]"))return!1;if(t(this).parent().parent().is("."+t.jStyling.settings.fileClass.w)){var e=this,i=t(e).parent().parent();t(i).before(t(e)),t(i).remove(),t(e).removeAttr("style")}}))}}}(jQuery);